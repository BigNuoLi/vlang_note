## 访问控制



目前版本只有函数可以通过pub来控制是在模块级别,还是公共级别可以调用

const,enum目前默认就是公共级别的

struct,interface目前默认也是公共级别的,但是应该也要有pub的控制才合理



结构体字段默认是:私有且不可变

pub可以变为公有

mut可以变为可变

有以下5种组合:

```
struct Foo {
	a int     //私有,不可变(默认).在模块内部可以访问,不可修改;模块外不可访问,不可修改
mut: 
	b int     // 私有,可变.在模块内部可以访问,可以修改,模块外部不可访问,不可修改
	c int     // (相同访问控制的字段可以放在一起)   
pub: 
	d int   // 公共,不可变,只读.在模块内部和外部都可以访问,但是不可修改
pub mut: 
	e int  //公共,可变.在模块内部可以访问,可以修改;模块外部可以访问,但是不可修改
pub mut mut: 
	f int 	  // 模块内部和外部都可以访问,可以修改,这样等于破坏了封装性,不推荐使用,所以语法才							//会啰嗦一些
}             
```

以上代码实际是不能运行的,只是汇总在一起方便说明

因为同一个结构体内部只能有一个pub,或者只能有一个mut,相同访问控制的字段要放在一起分组定义

看看string结构体的定义:

```
struct string {
pub:
	str byteptr  //都是公共,不可变
	len int 		//都是公共,不可变
}
```

所以以下代码会报错:

```
fn main() {
	str := 'hello'
	len := str.len //len公共可访问
	str.len++      // 不可变,不可修改,尝试修改会编译报错
}
```

